<script lang="ts">
  import MenuItem from "$lib/components/MenuItem.svelte";
  import Socials from "$lib/components/Socials.svelte";
  import Button from "$lib/components/Button.svelte";
  import {hasJobs, support } from "$lib/stores";
  import type {MenuItemShape} from "$lib/types/sanity";
  export let menuItems:MenuItemShape[] | null, copyrightText:string, address:string|false=false ;
</script>

<footer class="site-footer">

  <div class="footer-content">
    <div class="left">

    <h2>
      <a href="/">
        <svg  viewBox="0 0 400 57" fill="none" xmlns="http://www.w3.org/2000/svg">
        <title>Futureshirts</title>
        <g clip-path="url(#clip0_2_628)">
        <path d="M22.4962 10.442C23.0948 9.9783 24.0829 9.74642 25.4604 9.74642C26.9471 9.78105 28.4289 9.93146 29.8923 10.1963L31.5844 0.941327C26.4762 0.316555 22.5835 0.00277676 19.906 0C16.5468 0 13.9983 0.383197 12.2604 1.14958C10.6779 1.79575 9.28366 2.83152 8.20687 4.16097C7.17073 5.57517 6.49303 7.22037 6.23207 8.95506C5.90005 10.7314 5.72477 12.5335 5.70823 14.3406V16.1483H0V27.3567H5.70823V56.0962H21.0327V27.3567H28.3166V16.1441H21.0327C20.9929 14.9746 21.0555 13.8039 21.2198 12.6454C21.3826 11.7868 21.8329 11.0096 22.4962 10.442Z" fill="currentColor"/>
        <path d="M57.8431 35.3704C57.8431 39.008 57.261 41.5279 56.097 42.9301C55.5628 43.6051 54.8797 44.1467 54.1013 44.5124C53.323 44.8781 52.4705 45.0579 51.611 45.0377C49.9314 45.0377 48.6287 44.5115 47.703 43.4591C46.7773 42.4067 46.3144 40.6254 46.3144 38.1152V16.1441H30.9317V41.5765C30.9317 46.8218 32.1276 50.7092 34.5196 53.2389C36.9115 55.7685 40.2098 57.0291 44.4144 57.0208C47.5686 57.0208 50.2293 56.4558 52.3968 55.3256C54.5642 54.1955 56.7109 52.3017 58.8367 49.6444V56.117H73.1094V16.1441H57.8431V35.3704Z" fill="currentColor"/>
        <path d="M98.9731 46.1665C97.7231 46.1665 96.8472 45.7416 96.3456 44.8919C96.0213 44.338 95.8592 43.2259 95.8592 41.5098V27.3483h04.27V16.1441H95.8467V0.941345L80.5222 8.80514V16.1441H74.8888V27.3525H80.5222V41.414C80.5222 45.8708 80.9546 49.096 81.8193 51.0897C82.6019 52.9903 84.0144 54.5628 85.8188 55.5422C87.6204 56.5169 90.4239 57.0055 94.2294 57.0083C97.7949 56.9714 101.346 56.5525 104.823 55.7588L103.696 45.1877C101.656 45.8402 100.082 46.1665 98.9731 46.1665Z" fill="currentColor"/>
        <path d="M158.305 15.2403C156.37 15.1747 154.466 15.7356 152.875 16.8397C151.411 17.906 149.991 19.8497 148.613 22.6709V16.1441H132.977V35.3704C132.977 39.008 132.395 41.5279 131.231 42.9302C130.696 43.6054 130.012 44.1472 129.233 44.5129C128.454 44.8786 127.601 45.0582 126.741 45.0377C125.078 45.0377 123.76 44.5129 122.837 43.4591C121.914 42.4053 121.444 40.6227 121.444 38.1153V16.1441H106.087V41.5765C106.087 46.8218 107.283 50.7093 109.674 53.2389C112.066 55.7685 115.365 57.0292 119.569 57.0208C122.723 57.0208 125.383 56.4558 127.547 55.3256C129.712 54.1955 131.86 52.3017 133.992 49.6444V56.117H149.665V42.7052C149.665 36.3187 150.454 31.9536 152.031 29.61C152.52 28.8208 153.208 28.1744 154.025 27.7357C154.842 27.2971 155.761 27.0816 156.687 27.1109C157.738 27.1109 159.165 27.4872 160.97 28.2397L165.701 17.3312C163.023 15.9345 160.558 15.2375 158.305 15.2403Z" fill="currentColor"/>
        <path d="M190.604 46.8828C189.299 47.6219 187.825 48.0107 186.326 48.0116C185.228 48.046 184.136 47.8299 183.134 47.3796C182.131 46.9294 181.244 46.2567 180.539 45.4125C179.491 44.2102 178.829 42.3803 178.552 39.9229H209.196V38.1902C209.196 32.9143 208.333 28.6381 206.606 25.3616C204.93 22.1286 202.292 19.4982 199.056 17.8351C195.75 16.1052 191.243 15.2402 185.536 15.2402C178.502 15.2402 172.987 17.1715 168.993 21.034C165 24.8964 163.001 29.9501 162.998 36.1951C162.998 40.5851 163.993 44.4046 165.983 47.6534C167.974 50.9022 170.483 53.2722 173.513 54.7633C176.545 56.2544 180.702 57.0014 185.985 57.0042C192.083 57.0042 196.753 56.1323 199.996 54.3884C203.239 52.6446 206.01 49.7665 208.311 45.7541L193.252 44.3588C192.531 45.355 191.633 46.2105 190.604 46.8828ZM180.352 27.2025C181.009 26.2761 181.884 25.5257 182.899 25.0173C183.914 24.5089 185.038 24.2581 186.172 24.2869C188.276 24.2869 189.972 24.9256 191.261 26.2029C192.55 27.4802 193.345 29.6003 193.647 32.5631H178.589C178.838 30.1945 179.426 28.4077 180.352 27.2025Z" fill="currentColor"/>
        <path d="M243.654 32.459C241.176 31.4288 237.395 30.6263 232.312 30.0515C228.955 29.6516 226.778 29.2018 225.781 28.702C224.783 28.2022 224.281 27.4635 224.276 26.4861C224.279 26.0454 224.389 25.612 224.595 25.2227C224.801 24.8334 225.098 24.4996 225.46 24.2494C226.248 23.6386 227.506 23.3317 229.235 23.329C230.774 23.2828 232.291 23.7022 233.588 24.5327C234.526 25.2221 235.191 26.2205 235.468 27.3525L249.965 25.9238C249.147 23.6163 247.862 21.5032 246.19 19.7178C244.602 18.1446 242.655 16.9824 240.519 16.3315C238.252 15.604 234.74 15.2402 229.984 15.2402C225.477 15.2402 221.885 15.7095 219.208 16.6481C216.739 17.4395 214.548 18.919 212.888 20.9132C211.353 22.8434 210.543 25.2518 210.597 27.719C210.57 30.0381 211.316 32.2999 212.718 34.1458C214.04 35.9535 215.852 37.3428 217.94 38.1485C220.007 38.9399 223.694 39.7979 228.998 40.7226C232.552 41.3502 234.743 41.8763 235.571 42.3012C236.723 42.901 237.301 43.7548 237.301 44.8544C237.299 45.3386 237.178 45.8149 236.949 46.2412C236.72 46.6676 236.389 47.031 235.987 47.2994C234.859 48.174 233.268 48.6114 231.214 48.6114C229.341 48.6114 227.839 48.2226 226.708 47.4451C225.581 46.6704 224.704 45.3626 224.08 43.5716L208.909 45.0002C209.646 48.6304 211.784 51.8221 214.859 53.8803C217.952 55.9629 223.142 57.0042 230.429 57.0042C235.584 57.0042 239.658 56.3586 242.652 55.0674C245.645 53.7762 247.836 52.0407 249.225 49.8609C250.554 47.8683 251.277 45.531 251.303 43.1342C251.314 40.8875 250.626 38.6932 249.333 36.8573C247.91 34.8665 245.935 33.3374 243.654 32.459Z" fill="currentColor"/>
        <path d="M281.275 15.2403C278.78 15.1817 276.301 15.656 274.003 16.6314C271.949 17.5616 269.885 19.1041 267.809 21.2589V0.941345H252.509V56.1003H267.796V36.9115C267.796 33.274 268.371 30.7527 269.521 29.3476C270.057 28.6696 270.744 28.1261 271.526 27.7603C272.309 27.3944 273.165 27.2163 274.028 27.24C275.691 27.24 276.994 27.7607 277.936 28.802C278.879 29.8433 279.341 31.6176 279.325 34.125V56.1003H294.683V30.693C294.683 25.4532 293.488 21.5657 291.099 19.0306C288.71 16.4954 285.435 15.2319 281.275 15.2403Z" fill="currentColor"/>
        <path d="M312.198 0.941345H296.911V11.3625H312.198V0.941345Z" fill="currentColor"/>
        <path d="M351.183 46.1665C349.93 46.1665 349.054 45.7416 348.555 44.8919C348.231 44.338 348.069 43.2259 348.069 41.5098V27.3483H356.479V16.1441H348.069V0.941345L332.744 8.80514V16.1441H327.111V16.3774C325.431 15.6638 323.63 15.2779 321.806 15.2403C319.88 15.1783 317.985 15.7391 316.401 16.8397C314.963 17.8838 313.569 19.7803 312.219 22.5293V16.1441H296.911V56.1003H313.167V42.7052C313.167 36.3187 313.955 31.9536 315.532 29.61C316.022 28.8205 316.711 28.1739 317.529 27.7352C318.347 27.2966 319.266 27.0813 320.193 27.1109C321.241 27.1109 322.687 27.49 324.471 28.2397L327.111 22.1544V27.3359H332.744V41.414C332.744 45.8708 333.177 49.096 334.042 51.0897C334.824 52.9903 336.237 54.5628 338.041 55.5422C339.84 56.5169 342.643 57.0055 346.452 57.0083C350.016 56.9716 353.566 56.5527 357.041 55.7588L355.918 45.1877C353.889 45.8402 352.311 46.1665 351.183 46.1665Z" fill="currentColor"/>
        <path d="M398.029 36.8573C396.602 34.8656 394.623 33.3365 392.338 32.459C389.86 31.4288 386.079 30.6263 380.996 30.0515C377.64 29.6516 375.461 29.2018 374.461 28.702C373.463 28.198 372.96 27.4524 372.96 26.4861C372.963 26.0454 373.073 25.612 373.279 25.2227C373.486 24.8334 373.782 24.4996 374.145 24.2494C374.932 23.6386 376.19 23.3317 377.92 23.329C379.458 23.2828 380.975 23.7022 382.273 24.5327C383.21 25.2221 383.876 26.2205 384.152 27.3525L398.649 25.9238C397.832 23.6163 396.546 21.5032 394.874 19.7178C393.286 18.1446 391.34 16.9824 389.203 16.3315C386.939 15.604 383.427 15.2402 378.668 15.2402C374.161 15.2402 370.569 15.7095 367.892 16.6481C365.427 17.4409 363.238 18.9203 361.581 20.9132C360.046 22.8434 359.235 25.2518 359.29 27.719C359.263 30.0381 360.009 32.2999 361.41 34.1458C362.732 35.9535 364.545 37.3428 366.632 38.1485C368.7 38.9399 372.386 39.7979 377.691 40.7226C381.244 41.3502 383.435 41.8763 384.264 42.3012C385.416 42.901 385.993 43.7548 385.993 44.8544C385.992 45.3391 385.87 45.8159 385.64 46.2424C385.411 46.6689 385.079 47.032 384.676 47.2994C383.547 48.174 381.958 48.6114 379.907 48.6114C378.033 48.6114 376.531 48.2226 375.4 47.4451C374.273 46.6704 373.396 45.3626 372.773 43.5716L357.602 45.0002C358.475 48.8377 360.458 51.7977 363.551 53.8803C366.644 55.9629 371.834 57.0042 379.121 57.0042C384.276 57.0042 388.351 56.3586 391.344 55.0674C394.338 53.7762 396.529 52.0407 397.917 49.8609C399.247 47.8683 399.969 45.531 399.996 43.1342C400.008 40.8879 399.321 38.6937 398.029 36.8573Z" fill="currentColor"/>
        </g>
        <defs>
        <clipPath id="clip0_2_628">
        <rect width="400" height="57" fill="white"/>
        </clipPath>
        </defs>
        </svg>
      </a>
    </h2>

    <div class="socials">
      <Socials />
    </div>
  </div>
  {#if menuItems && menuItems.length > 0}
  <ul>
    {#each menuItems as item, i}
    <MenuItem {item}/>
    {#if i == 0 && $hasJobs}
      <MenuItem item={{title: 'Careers', linkUrl: {openInNewTab: false,type:'internal' , url: '/jobs', } }} />
    {/if}
    {/each}

  </ul>
  {/if}
  {#if $support}
  <div class="support">
    {#if $support.title}
    <h4>{$support.title}</h4>
    {/if}
    {#if $support.subtitle}
    <p>{$support.subtitle }</p>
    {/if}
    <div class="buttons">
      {#if $support.email}
        <Button link={`mailto:${$support.email}`} underline >Email Us.</Button>
      {/if}
      <Button link={`/support`} underline >More Info.</Button>
    </div>
  </div>
  {/if}
  <div class="copyright">
    {#if address}
    <address>
      {address}
    </address>
    {/if}
    <p>Â© {new Date().getFullYear()} {copyrightText}</p>
    <p>an <a href="https://evankerrickford.com" target="_blank" rel="nofollow noopener noreferrer">ekf</a> site</p>
  </div>
  </div>
</footer>

<style lang="scss">
  @use "../styles/abstracts" as *;
  @use "../styles/abstracts/mixins/_type-elements" as type;

  footer {
    --menu-link-padding: 4px;
    padding: clamp(30px, calc(20px + 4vh), 55px) 0;
    background: rgb(var(--color-base-background-off));
    color: rgb(var(--color-base-text));
    position: relative;
    z-index: 99;
    }
  .support{
    max-width: 500px;
    color: rgba(var(--color-base-text), 0.8);

    --color-simple-button: var(--color-base-accent);

    h4 {
      color: rgba(var(--color-base-text), 0.8);
      font-weight: 700;
      @include type.heading;
    }

    p{
      line-height: 1.3;
      margin-bottom: 0;
    }
  }

  .buttons {
    display: flex;
    flex-wrap: auto;
    align-items: flex-start;
    justify-content: flex-start;
  }

  .socials {
    margin: 12px auto;
  }
  .copyright, .left, ul {
        flex: 1 1 200px;

  }
  .copyright, .left, ul, .support {
    margin: clamp(15px, calc(10px + 1.5vw), 25px) 20px;
  }

  address{
    display: block;
    font-style: normal;
  }

  .copyright {
    @include mono;

    p, address {
      margin: 1em auto;
    }
    font-size: 12px;
    letter-spacing: 0;
    color: rgb(var(--color-base-text-off));
     a {
       color: inherit;
       text-underline-offset: 2px;
     }
  }

  a, .socials {
    color: rgb(var(--color-base-accent));
  }
  h2 {
    display: block;
    margin: 0;
    width: 240px;
    a {
      color: inherit;
    }
  }
  .footer-content {
    @include content-wrap;
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    flex-wrap: wrap;


  }


  ul {
    padding: 0;
    list-style: none;
    font-size: 14px;
  }
</style>
